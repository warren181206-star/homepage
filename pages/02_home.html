<div class="home-page">
  <div class="home-bg">
    <img src="https://raw.githubusercontent.com/warren181206-star/homepage/main/images/%EB%B8%94%EB%9E%99%EB%B0%B0%EA%B2%BD.jpg" alt="" class="home-bg-img">
  </div>
  <div class="home-content">
    <section id="vm-gold-lineup">
      <div class="vm-gold-inner">
        <div class="vm-hero">
          <p class="vm-hero-kicker">GOLD INSIGHT</p>
          <h2 class="vm-hero-title">ì˜¤ëŠ˜ì˜ ê¸ˆì‹œì„¸</h2>
          <p class="vm-hero-desc">ì‹¤ì‹œê°„ ê·€ê¸ˆì† ì‹œì„¸ë¥¼ í™•ì¸í•˜ì„¸ìš”</p>
          <p class="vm-hero-unit">ë‹¨ìœ„: 3.75g ê¸°ì¤€</p>
        </div>
        <div class="vm-cards" id="vm-cards">
          <div class="vm-card vm-card-loading">
            <div class="vm-card-name">ë¡œë”©ì¤‘...</div>
          </div>
        </div>
      </div>
    </section>
    <section class="k-hero-section">
      <div class="k-hero-content">
        <h1 class="k-hero-title">í•œêµ­ê¸ˆê±°ë˜ì†Œ ê²½ì‚°ì </h1>
        <p class="k-hero-desc">ì‹ ë¢°ì™€ ì „ë¬¸ì„±ìœ¼ë¡œ ê¸ˆ íˆ¬ìë¥¼ í•¨ê»˜í•©ë‹ˆë‹¤</p>
      </div>
    </section>
    <section class="k-youtube-section">
      <div class="k-youtube-container">
        <div class="k-youtube-header">
          <div class="k-youtube-label">ê³¨ë“œì¸ì‚¬ì´íŠ¸ YOUTUBE</div>
          <h2 class="k-youtube-title">ê¸ˆê³¼ ì€ì— ê´€í•œ í†µì°°ë ¥ 'ê¸ˆë‚¨ì¼ì˜ ê³¨ë“œì¸ì‚¬ì´íŠ¸'</h2>
        </div>
        <div class="k-youtube-grid" id="kYoutubeGrid">
          <div class="k-youtube-loading">ì˜ìƒì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
        </div>
      </div>
    </section>
    <section class="k-products-section">
      <div class="k-products-container">
        <div class="k-products-grid">
          <a href="/gold-bar" class="k-product-card">
            <div class="k-product-img">
              <img src="https://raw.githubusercontent.com/warren181206-star/homepage/main/images/10g%20%EA%B3%A8%EB%93%9C%EB%B0%94.png" alt="10g ê³¨ë“œë°”">
            </div>
            <div class="k-product-info">
              <h3 class="k-product-title">í•œêµ­ê¸ˆê±°ë˜ì†Œ 10g ê³¨ë“œë°”</h3>
              <p class="k-product-desc">ì „ëµì  ìš´ìš©ì˜ ì‹œì‘</p>
            </div>
          </a>
          <a href="/gold-bar" class="k-product-card">
            <div class="k-product-img">
              <img src="https://raw.githubusercontent.com/warren181206-star/homepage/main/images/37.5g%20%EA%B3%A8%EB%93%9C%EB%B0%94.png" alt="37.5g ê³¨ë“œë°”">
            </div>
            <div class="k-product-info">
              <h3 class="k-product-title">í•œêµ­ê¸ˆê±°ë˜ì†Œ 37.5g ê³¨ë“œë°”</h3>
              <p class="k-product-desc">ì•ˆì •ì„±ê³¼ ì‹¤ì†ì˜ ê· í˜•ì </p>
            </div>
          </a>
          <a href="/gold-bar" class="k-product-card">
            <div class="k-product-img">
              <img src="https://raw.githubusercontent.com/warren181206-star/homepage/main/images/100g%20%EA%B3%A8%EB%93%9C%EB%B0%94.png" alt="100g ê³¨ë“œë°”">
            </div>
            <div class="k-product-info">
              <h3 class="k-product-title">í•œêµ­ê¸ˆê±°ë˜ì†Œ 100g ê³¨ë“œë°”</h3>
              <p class="k-product-desc">ë‹¨ê°€ë©”ë¦¬íŠ¸ê°€ ë‹ë³´ì´ëŠ” í•µì‹¬ì¤‘ëŸ‰</p>
            </div>
          </a>
          <a href="/silver-bar" class="k-product-card k-product-silver">
            <div class="k-product-img">
              <img src="https://raw.githubusercontent.com/warren181206-star/homepage/main/images/1000g%20%EC%8B%A4%EB%B2%84%EB%B0%94.png" alt="1Kg ì‹¤ë²„ë°”">
            </div>
            <div class="k-product-info">
              <h3 class="k-product-title">í•œêµ­ê¸ˆê±°ë˜ì†Œ 1Kg ì‹¤ë²„ë°”</h3>
              <p class="k-product-desc">ì€íˆ¬ììë“¤ì˜ ì²« ë²ˆì§¸ ì„ íƒ</p>
            </div>
          </a>
        </div>
      </div>
    </section>
  </div>
</div>
<div class="k-youtube-modal" id="kYoutubeModal">
  <div class="k-youtube-modal-content">
    <button class="k-youtube-modal-close" id="kYoutubeModalClose">&times;</button>
    <div class="k-youtube-iframe-wrap">
      <iframe id="kYoutubeIframe" src="" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
  </div>
</div>
<style>
.home-page{
  font-family:Pretendard,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  background:#0a0a0a;
  min-height:100vh;
  position:relative;
  overflow:hidden;
}
.home-page *,.home-page *::before,.home-page *::after{
  box-sizing:border-box;
}
.home-bg{
  position:fixed;
  top:0;left:0;right:0;bottom:0;
  pointer-events:none;
  z-index:0;
  overflow:hidden;
}
.home-bg-img{
  position:absolute;
  top:0;left:0;
  width:100%;height:100%;
  object-fit:cover;
}
.home-bg::before{
  content:'';
  position:absolute;
  top:0;left:0;right:0;bottom:0;
  background:rgba(0,0,0,0.3);
}
.home-content{
  position:relative;
  z-index:1;
}
#vm-gold-lineup{
  padding:80px 20px;
}
.vm-gold-inner{
  max-width:1200px;
  margin:0 auto;
}
.vm-up{color:#ef002d;}
.vm-down{color:#207BE7;}
.vm-same{color:#a2a7b3;}
.vm-hero{
  text-align:center;
  margin-bottom:40px;
}
.vm-hero-kicker{
  font-size:12px;
  letter-spacing:3px;
  color:#b78e64;
  margin:0 0 8px;
}
.vm-hero-title{
  font-size:36px;
  margin:0 0 12px;
  font-weight:800;
  background:linear-gradient(135deg,#d4b896 0%,#b78e64 50%,#8b6914 100%);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
}
.vm-hero-desc{
  font-size:15px;
  margin:0 0 8px;
  color:#a0a0a0;
}
.vm-hero-unit{
  font-size:13px;
  color:#666;
}
.vm-cards{
  display:grid;
  grid-template-columns:repeat(5,1fr);
  gap:20px;
}
.vm-card{
  position:relative;
  background:linear-gradient(145deg,rgba(20,15,10,0.85) 0%,rgba(10,8,5,0.95) 100%);
  border:1px solid rgba(183,142,100,0.4);
  border-radius:20px;
  padding:28px 20px;
  text-align:center;
  transition:all 0.4s cubic-bezier(0.4,0,0.2,1);
  backdrop-filter:blur(10px);
  -webkit-backdrop-filter:blur(10px);
  overflow:hidden;
}
.vm-card::before{
  content:'';
  position:absolute;
  top:0;left:-100%;
  width:100%;height:100%;
  background:linear-gradient(90deg,transparent,rgba(212,184,150,0.15),transparent);
  transition:left 0.6s ease;
}
.vm-card::after{
  content:'';
  position:absolute;
  top:0;left:0;right:0;
  height:1px;
  background:linear-gradient(90deg,transparent,rgba(212,184,150,0.6),transparent);
  opacity:0;
  transition:opacity 0.3s;
}
.vm-card:hover{
  transform:translateY(-8px) scale(1.02);
  border-color:rgba(212,184,150,0.7);
  box-shadow:0 20px 40px rgba(0,0,0,0.5),0 0 30px rgba(183,142,100,0.15);
}
.vm-card:hover::before{
  left:100%;
}
.vm-card:hover::after{
  opacity:1;
}
.vm-card-icon{
  font-size:36px;
  margin-bottom:16px;
  filter:drop-shadow(0 4px 8px rgba(183,142,100,0.3));
}
.vm-card-name{
  font-size:18px;
  font-weight:700;
  background:linear-gradient(135deg,#f0dfc0 0%,#d4b896 40%,#b78e64 100%);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
  margin-bottom:6px;
  letter-spacing:0.5px;
}
.vm-card-sub{
  font-size:12px;
  color:#888;
  margin-bottom:20px;
  letter-spacing:1px;
}
.vm-card-section{
  margin-bottom:18px;
}
.vm-card-section:last-child{
  margin-bottom:0;
}
.vm-card-label{
  font-size:12px;
  color:#999;
  margin-bottom:8px;
  font-weight:500;
}
.vm-card-price{
  font-size:24px;
  font-weight:800;
  margin-bottom:6px;
  color:#fff;
}
.vm-card-diff{
  font-size:12px;
  line-height:1.5;
  font-weight:600;
}
.vm-card-divider{
  height:1px;
  background:linear-gradient(90deg,transparent,rgba(183,142,100,0.4),transparent);
  margin:18px 0;
}
.k-hero-section{
  padding:80px 20px;
  text-align:center;
}
.k-hero-content{
  max-width:1200px;
  margin:0 auto;
}
.k-hero-title{
  font-size:36px;
  font-weight:800;
  background:linear-gradient(135deg,#b78e64 0%,#d4b896 50%,#b78e64 100%);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
  margin:0 0 20px;
}
.k-hero-desc{
  font-size:18px;
  color:#777;
  margin:0;
}
.k-products-section{
  padding:80px 20px;
  background:rgba(255,255,255,0.97);
}
.k-products-container{
  max-width:1400px;
  margin:0 auto;
}
.k-products-grid{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:24px;
}
.k-product-card{
  display:block;
  background:#fff;
  border-radius:12px;
  overflow:hidden;
  text-decoration:none !important;
  transition:all 0.3s ease;
  border:1px solid #eee;
}
.k-product-card:hover{
  transform:translateY(-4px);
  box-shadow:0 12px 32px rgba(0,0,0,0.1);
}
.k-product-img{
  position:relative;
  padding:40px 20px;
  background:#f9f9f9;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:280px;
}
.k-product-img img{
  max-width:100%;
  max-height:200px;
  object-fit:contain;
}
.k-product-silver .k-product-img{
  border-bottom:2px dashed #ddd;
}
.k-product-info{
  padding:24px 20px;
  border-top:1px solid rgba(183,142,100,0.3);
}
.k-product-title{
  font-size:16px;
  font-weight:700;
  color:#222;
  margin:0 0 8px;
}
.k-product-desc{
  font-size:14px;
  color:#888;
  margin:0;
}
.k-youtube-section{
  padding:80px 20px;
}
.k-youtube-container{
  max-width:1200px;
  margin:0 auto;
}
.k-youtube-header{
  margin-bottom:40px;
}
.k-youtube-label{
  font-size:14px;
  font-weight:600;
  color:#b78e64;
  letter-spacing:1px;
  margin-bottom:12px;
}
.k-youtube-title{
  font-size:28px;
  font-weight:700;
  color:#fff;
  line-height:1.4;
}
.k-youtube-grid{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:24px;
}
.k-youtube-item{
  cursor:pointer;
  transition:transform 0.3s ease;
}
.k-youtube-item:hover{
  transform:translateY(-4px);
}
.k-youtube-thumb{
  position:relative;
  width:100%;
  padding-bottom:56.25%;
  border-radius:8px;
  overflow:hidden;
  background:#222;
}
.k-youtube-thumb img{
  position:absolute;
  top:0;left:0;
  width:100%;height:100%;
  object-fit:cover;
}
.k-youtube-play{
  position:absolute;
  top:50%;left:50%;
  transform:translate(-50%,-50%);
  width:56px;height:56px;
  background:rgba(0,0,0,0.7);
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  transition:background 0.3s;
}
.k-youtube-item:hover .k-youtube-play{
  background:rgba(255,0,0,0.9);
}
.k-youtube-play::after{
  content:'';
  width:0;height:0;
  border-left:18px solid #fff;
  border-top:11px solid transparent;
  border-bottom:11px solid transparent;
  margin-left:4px;
}
.k-youtube-info{
  padding:16px 4px;
}
.k-youtube-video-title{
  font-size:15px;
  font-weight:600;
  color:#fff;
  line-height:1.5;
  margin-bottom:8px;
  display:-webkit-box;
  -webkit-line-clamp:2;
  -webkit-box-orient:vertical;
  overflow:hidden;
}
.k-youtube-channel{
  font-size:13px;
  color:rgba(255,255,255,0.8);
}
.k-youtube-modal{
  display:none;
  position:fixed;
  top:0;left:0;
  width:100%;height:100%;
  background:rgba(0,0,0,0.9);
  z-index:1000001;
  align-items:center;
  justify-content:center;
}
.k-youtube-modal.active{
  display:flex;
}
.k-youtube-modal-content{
  position:relative;
  width:90%;
  max-width:900px;
}
.k-youtube-modal-close{
  position:absolute;
  top:-40px;right:0;
  font-size:32px;
  color:#fff;
  background:none;
  border:none;
  cursor:pointer;
  transition:opacity 0.3s;
}
.k-youtube-modal-close:hover{
  opacity:0.7;
}
.k-youtube-iframe-wrap{
  position:relative;
  width:100%;
  padding-bottom:56.25%;
  background:#000;
  border-radius:8px;
  overflow:hidden;
}
.k-youtube-iframe-wrap iframe{
  position:absolute;
  top:0;left:0;
  width:100%;height:100%;
  border:none;
}
.k-youtube-loading{
  text-align:center;
  padding:60px 20px;
  color:#888;
}
@media (max-width:1200px){
  .vm-cards{
    grid-template-columns:repeat(3,1fr);
    gap:16px;
  }
}
@media (max-width:1024px){
  .k-products-grid{
    grid-template-columns:repeat(2,1fr);
    gap:20px;
  }
  .k-youtube-grid{
    grid-template-columns:repeat(2,1fr);
    gap:20px;
  }
}
@media (max-width:767px){
  #vm-gold-lineup{
    padding:60px 16px;
  }
  .vm-hero-title{
    font-size:28px;
  }
  .vm-cards{
    grid-template-columns:repeat(2,1fr);
    gap:12px;
  }
  .vm-card{
    padding:22px 14px;
    border-radius:16px;
  }
  .vm-card-icon{
    font-size:30px;
    margin-bottom:12px;
  }
  .vm-card-name{
    font-size:16px;
  }
  .vm-card-sub{
    font-size:11px;
    margin-bottom:16px;
  }
  .vm-card-price{
    font-size:20px;
  }
  .vm-card-label{
    font-size:11px;
  }
  .k-hero-section{
    padding:60px 16px;
  }
  .k-hero-title{
    font-size:26px;
  }
  .k-hero-desc{
    font-size:15px;
  }
  .k-products-section{
    padding:60px 16px;
  }
  .k-products-grid{
    grid-template-columns:1fr;
    gap:16px;
  }
  .k-product-img{
    min-height:200px;
    padding:30px 16px;
  }
  .k-product-img img{
    max-height:150px;
  }
  .k-product-info{
    padding:20px 16px;
  }
  .k-youtube-section{
    padding:60px 16px;
  }
  .k-youtube-title{
    font-size:22px;
  }
  .k-youtube-grid{
    grid-template-columns:1fr;
    gap:24px;
  }
  .k-youtube-play{
    width:48px;height:48px;
  }
  .k-youtube-play::after{
    border-left-width:14px;
    border-top-width:9px;
    border-bottom-width:9px;
  }
}
@media (max-width:480px){
  .vm-cards{
    grid-template-columns:1fr;
    gap:14px;
  }
  .vm-card{
    padding:24px 18px;
  }
  .vm-card-name{
    font-size:18px;
  }
  .vm-card-price{
    font-size:22px;
  }
}
</style>
<script>
const API_URL = "https://wispy-salad-7884.crycow68004.workers.dev/prices";
function vmComma(v){
  if(v === null || v === undefined) return "-";
  const n = Number(v) || 0;
  return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}
function vmUpDownClass(v){
  v = Number(v) || 0;
  if(v > 0) return "vm-up";
  if(v < 0) return "vm-down";
  return "vm-same";
}
function vmSign(v){
  v = Number(v) || 0;
  if(v > 0) return "+" + v;
  if(v < 0) return v;
  return "0";
}
function vmArrow(v){
  v = Number(v) || 0;
  if(v > 0) return "â–²";
  if(v < 0) return "â–¼";
  return "-";
}
async function vmLoadPrices(){
  try{
    const res = await fetch(API_URL, { cache: "no-cache" });
    const json = await res.json();
    const items = json.items || {};
    const metals = [
      { key:"gold24", name:"24K ìˆœê¸ˆ", sub:"Gold 24K", icon:"ğŸ¥‡" },
      { key:"gold18", name:"18K ê¸ˆ", sub:"Gold 18K", icon:"ğŸ…", buyNote:true },
      { key:"gold14", name:"14K ê¸ˆ", sub:"Gold 14K", icon:"ğŸ…", buyNote:true },
      { key:"platinum", name:"ë°±ê¸ˆ", sub:"Platinum", icon:"ğŸ’" },
      { key:"silver", name:"ì€", sub:"Silver", icon:"ğŸ¥ˆ" }
    ];
    let html = "";
    metals.forEach(m=>{
      const buy = items[m.key + "_buy"];
      const sell = items[m.key + "_sell"];
      if(!buy || !sell) return;
      const buyText = m.buyNote ? "ì œí’ˆì‹œì„¸ì ìš©" : vmComma(buy.price) + "ì›";
      const buyDiff = m.buyNote ? "" : `<div class="vm-card-diff ${vmUpDownClass(buy.diff)}">${vmArrow(buy.diff)} ${vmComma(Math.abs(buy.diff))} (${vmSign(buy.diffPer)}%)</div>`;
      html += `
        <div class="vm-card">
          <div class="vm-card-icon">${m.icon}</div>
          <div class="vm-card-name">${m.name}</div>
          <div class="vm-card-sub">${m.sub}</div>
          <div class="vm-card-section">
            <div class="vm-card-label">ì‚´ ë•Œ (VATí¬í•¨)</div>
            <div class="vm-card-price">${buyText}</div>
            ${buyDiff}
          </div>
          <div class="vm-card-divider"></div>
          <div class="vm-card-section">
            <div class="vm-card-label">íŒ” ë•Œ</div>
            <div class="vm-card-price">${vmComma(sell.price)}ì›</div>
            <div class="vm-card-diff ${vmUpDownClass(sell.diff)}">${vmArrow(sell.diff)} ${vmComma(Math.abs(sell.diff))} (${vmSign(sell.diffPer)}%)</div>
          </div>
        </div>
      `;
    });
    document.getElementById("vm-cards").innerHTML = html;
  }catch(e){
    console.log("ê¸ˆ ì‹œì„¸ ë¡œë“œ ì—ëŸ¬:", e);
  }
}
vmLoadPrices();
setInterval(vmLoadPrices, 3600 * 1000);
(function(){
  var CHANNEL_ID = 'UCwhhhta9lIDmnYjyBAgHE7A';
  var API_KEY = 'AIzaSyCHpuS9f5YwMWt8IQSnHmt0SRdcnpaBLNU';
  var MAX_RESULTS = 4;
  var FETCH_COUNT = 30;
  var grid = document.getElementById('kYoutubeGrid');
  var modal = document.getElementById('kYoutubeModal');
  var iframe = document.getElementById('kYoutubeIframe');
  var closeBtn = document.getElementById('kYoutubeModalClose');
  function fetchVideos(){
    var searchUrl = 'https://www.googleapis.com/youtube/v3/search?key=' + API_KEY +
              '&channelId=' + CHANNEL_ID +
              '&part=snippet&order=date&maxResults=' + FETCH_COUNT + '&type=video';
    fetch(searchUrl)
      .then(function(res){ return res.json(); })
      .then(function(data){
        if(data.items && data.items.length > 0){
          var videoIds = data.items.map(function(item){ return item.id.videoId; }).join(',');
          var detailsUrl = 'https://www.googleapis.com/youtube/v3/videos?key=' + API_KEY +
                          '&id=' + videoIds + '&part=contentDetails,snippet';
          return fetch(detailsUrl);
        } else {
          throw new Error('No videos');
        }
      })
      .then(function(res){ return res.json(); })
      .then(function(data){
        var longVideos = data.items.filter(function(video){
          var duration = video.contentDetails.duration;
          var match = duration.match(/PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?/);
          if(!match) return false;
          var hours = parseInt(match[1] || 0);
          var minutes = parseInt(match[2] || 0);
          var seconds = parseInt(match[3] || 0);
          var totalSeconds = hours * 3600 + minutes * 60 + seconds;
          return totalSeconds > 180;
        });
        if(longVideos.length > 0){
          renderVideos(longVideos.slice(0, MAX_RESULTS));
        } else {
          grid.innerHTML = '<div class="k-youtube-loading">ì˜ìƒì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</div>';
        }
      })
      .catch(function(){
        grid.innerHTML = '<div class="k-youtube-loading">ì˜ìƒì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</div>';
      });
  }
  function renderVideos(videos){
    var html = '';
    videos.forEach(function(video){
      var videoId = video.id;
      var title = video.snippet.title;
      var thumb = video.snippet.thumbnails.high ? video.snippet.thumbnails.high.url : video.snippet.thumbnails.medium.url;
      var channel = video.snippet.channelTitle;
      html += '<div class="k-youtube-item" data-video-id="' + videoId + '">' +
              '<div class="k-youtube-thumb">' +
              '<img src="' + thumb + '" alt="' + title + '">' +
              '<div class="k-youtube-play"></div>' +
              '</div>' +
              '<div class="k-youtube-info">' +
              '<div class="k-youtube-video-title">' + title + '</div>' +
              '<div class="k-youtube-channel">' + channel + '</div>' +
              '</div></div>';
    });
    grid.innerHTML = html;
    grid.querySelectorAll('.k-youtube-item').forEach(function(item){
      item.addEventListener('click', function(){
        var vid = this.getAttribute('data-video-id');
        openModal(vid);
      });
    });
  }
  function openModal(videoId){
    iframe.src = 'https://www.youtube.com/embed/' + videoId + '?autoplay=1';
    modal.classList.add('active');
    document.body.style.overflow = 'hidden';
  }
  function closeModal(){
    modal.classList.remove('active');
    iframe.src = '';
    document.body.style.overflow = '';
  }
  closeBtn.addEventListener('click', closeModal);
  modal.addEventListener('click', function(e){
    if(e.target === modal) closeModal();
  });
  document.addEventListener('keydown', function(e){
    if(e.key === 'Escape') closeModal();
  });
  fetchVideos();
})();
</script>
